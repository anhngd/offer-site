var bannerClick="";function SetClickBanner(){bannerClick="-banner"}function UnSetClickBanner(){bannerClick=""}var zmZingStore=(function(){var e="app";var c=1;var d=1;var f=1;var b=1;var g=1;return{ZS_URL:appstoreCfg.BASE_URL,more:0,listBm:"",preOrder:null,afterOrder:null,totalBm:0,totalRc:0,rmAppId:0,isLogin:0,point:0,appId:0,flgAutoComplete:0,totalItemSlide:0,currItemSlide:1,flgEvent:0,flgBoxDetailApp:0,urlPlayGame:"http://me.zing.vn/apps/",urlPlayGameAs:"http://appstore.zing.vn/apps/",appName:"",src:"",buildBoxHome:function(k,j){var i="/ajx/box?box=boxapphome&cateid="+k+"&page="+j;zm.get(i,{dataType:"html"},function(l){if(l.length>0){zm("#box_normal_app").html(l)}});return false},boxOpenServerDetails:function(j,k){var i="/ajx/box?box=openserver_game&appid="+j+"&page="+k;zm.get(i,{dataType:"html"},function(l){if(l.length>0){zm("#boxopenserver").html(l)}});return false},buildBoxNewsEvent:function(j,k){var i="/ajx/box?box="+j+"&page="+k;zm.get(i,{dataType:"html"},function(l){if(l.length>0){zm("#"+j).html(l)}});return false},buildBoxTopBoard:function(j,k){var i="/ajx/box?cateid="+k+"&box="+j;zm.get(i,{dataType:"html"},function(l){if(l.length>0){zm("#topboardgame").html(l)}});return false},buildBoxGiftCode:function(o){var j=1;if(o>1){j=o-1}var k=o+1;var p=(o-1)*3+1;var q=3;var m="http://campaign.apps.zing.vn/phatcode/api?method=getList&from="+p+"&to="+q;var n="";var l="<div id='boxgiftcode' class='boxctn'><h1><div class='crighttxt'>";var r="<a onclick='zmZingStore.buildBoxGiftCode("+j+");'  title='Lui' href='javascript:void(0);' class='slidercontrol prev'> <em></em></a>";if(o===1){r="<a onclick='zmZingStore.buildBoxGiftCode("+j+");'  title='Lui' href='javascript:void(0);' class='slidercontrol prev disable'> <em></em></a>"}var i="<a id='next_giftcode' onclick='zmZingStore.buildBoxGiftCode("+k+");'  title='Tới' href='javascript:void(0);' class='slidercontrol next'> <em></em></a>";if(o===5){i="<a id='next_giftcode' onclick='zmZingStore.buildBoxGiftCode("+k+");'  title='Tới' href='javascript:void(0);' class='slidercontrol next disable'> <em></em></a>"}zm.getJSON(m,{dataType:"json"},function(s){if(s.error_code===0&&s.data.length>0){var t=0;s.data.forEach(function(v){var u=" <li><a href='"+v.link+"'><img class='savt_game' src='"+v.icon+"'></a>";u=u+" <div class='codeinf'><p class='name_event'>"+v.title+"</p>";u=u+"<a class='btn02' href='"+v.link+"'>Nhận code</a> </div></li>";n=n+u;t++});if(t<3){i="<a id='next_giftcode' onclick='zmZingStore.buildBoxGiftCode("+k+");'  title='Tới' href='javascript:void(0);' class='slidercontrol next disable'> <em></em></a>"}l=l+r+i+"</div><a target='_blank' class='label gift_code' href='/phat-code/vip-code?_src=codevip' title='Vip Code'></a></h1> <ul class='list_code'>";l=l+n+"</ul></div>";if(l.length>0){zm("#boxgiftcode").html(l)}}else{zm("#next_giftcode").addClass("disable")}})},getApps:function(i){c=1;e="app";var j=i+"&p="+c;zm.get(j,{dataType:"json"},function(k){zm("#content_apps").html(k.data);zm("#totalapp").html(k.total);zmZingStore.more=k.more;if(!zmZingStore.more){zm("#getmore").hide()}zm("#hdatarank").html("");zm(".appgrid_toprow").show();try{zm("#box_suggest_home_page").show()}catch(l){}});zmZingStore.initMenu(".appm_all");zm("#slink").val("/ajx/home?cateid="+appstoreCfg.ID_CATE_ALL)},getBox:function(l,j,k){var i="/ajx/box?box="+j+"&page="+k;zm.get(i,{dataType:"html"},function(m){if(m.length>0){zm("#"+l).html(m)}})},enterLogin:function(i){if(i.keyCode==13){zmZingStore.validateLoginForm()}},errLogin:function(i){zm("#errLogin").html(i);setTimeout(function(){zm("#errLogin").html("")},5000)},focusPass:function(i){if(i.keyCode==13){zm("#p").focus()}},validateLoginForm:function(){var i=zm("#u").val();if(i.length==0){zmZingStore.errLogin("Tài khoản không hợp lệ");zm("#u").focus();return false}var j=zm("#p").val();if(j.length==0){zmZingStore.errLogin("Mật khẩu không hợp lệ");zm("#p").focus();return false}zm("#frmLoginDirect").submit();return true},getAppsSug:function(i){d=1;e="rank";var j=i+"&p="+d;zm.get(j,{dataType:"json"},function(k){zm("#content_apps").html(k.data);zm("#totalapp").html(k.total);zmZingStore.more=k.more;if(!zmZingStore.more){zm("#getmore").hide()}zm("#hdatarank").html("");zm(".appgrid_toprow").show();try{zm("#box_suggest_home_page").hide()}catch(l){}});zmZingStore.initMenu(".appm_recommend");zm("#slink").val("/ajx/home?t="+e+"&cateid="+appstoreCfg.ID_CATE_SUG)},getAppsNew:function(i){f=1;e="new";var j=i+"&p="+f;zm.get(j,{dataType:"json"},function(k){zm("#content_apps").html(k.data);zm("#totalapp").html(k.total);zmZingStore.more=k.more;if(!zmZingStore.more){zm("#getmore").hide()}zm("#hdatarank").html("");zm(".appgrid_toprow").show();try{zm("#box_suggest_home_page").hide()}catch(l){}});zmZingStore.initMenu(".appm_new");zm("#slink").val("/ajx/home?t="+e+"&cateid="+appstoreCfg.ID_CATE_NEW)},getAppsRank:function(i){b=1;e="rank";var j=i+"&p="+b;zm.get(j,{dataType:"json"},function(k){zm("#hdatarank").html(k.data);zm("#content_apps").html("");zm("#totalapp").html(k.total);zmZingStore.more=k.more;if(!zmZingStore.more){zm("#getmore").hide()}});zmZingStore.initMenu(".appm_rank");zm("#slink").val("/ajx/home?t="+e);zm(".appgrid_toprow").hide()},getMoreApps:function(i){if(zmZingStore.more>0){if(e=="app"){c++;g=c}else{if(e=="sug"){d++;g=d}else{if(e=="new"){f++;g=f}else{if(e=="rank"){b++;g=b}}}}var j=i+"&p="+g;zm.get(j,{dataType:"json"},function(k){zm("#content_apps").append(k.data);zmZingStore.more=k.more;if(!zmZingStore.more){zm("#getmore").hide()}})}},getBXH:function(){zm.get("/ajx/bxh",{dataType:"json"},function(i){if(i.err==0){zm("#hdatarank").html(i.data);zm("#content_apps").html("");zmZingStore.more=0;zm("#getmore").hide();zmZingStore.initMenu(".appm_rank");zm(".appgrid_toprow").hide();try{zm("#box_suggest_home_page").hide()}catch(j){}}})},getDataEvent:function(){zm.get("/ajx/data/event",{dataType:"json"},function(i){if(i.err==0){zm("#hdatarank").html(i.data);zm("#content_apps").html("");zmZingStore.more=0;zm("#getmore").hide();zmZingStore.initMenu(".appm_event");zm(".appgrid_toprow").hide();try{zm("#box_suggest_home_page").hide()}catch(j){}}})},getBoxDetailApp:function(i){zm("#idSuKien").removeClass("active");zm("#idCodeGame").removeClass("active");zm("#idTongQuan").addClass("active");zm("#dataEventApp").hide();zm("#dataCodeGame").hide();zm("#dataDetailApp").show()},showBoxEvent:function(){zm("#idSuKien").addClass("active");zm("#idTongQuan").removeClass("active");zm("#idCodeGame").removeClass("active");zm("#dataEventApp").show();zm("#dataDetailApp").hide();zm("#dataCodeGame").hide()},showBoxCodeGame:function(){zm("#idSuKien").removeClass("active");zm("#idTongQuan").removeClass("active");zm("#idCodeGame").addClass("active");zm("#dataEventApp").hide();zm("#dataDetailApp").hide();zm("#dataCodeGame").show()},rmBookmark:function(j,i){new zmCore.Boxy({title:"Thông báo",content:"<div style='text-align:center;margin-top:20px;margin-bottom:20px;font-size:12px'>Bạn chắc chắn muốn xóa ghi nhớ ?</div>",contentClass:"lbx_widsml",modal:true,okButton:"Xóa",cancelButton:"Bỏ qua",onOk:function(){a(j,i)}}).show()},addBookmark:function(k,j){if(zmZingStore.isLogin>0){var i="/bookmark";var l={ac:"add",appid:k,token:j};zm.post(i,l,{dataType:"json"},function(n){var p=parseInt(n.error);if(p!=0){if(n.error==3){h(n.msg)}else{new zmCore.Boxy({title:"Thông báo",content:n.msg,modal:true,okButton:"Đồng ý",onOk:function(){window.location=window.location}}).show()}}else{zmZingStore.asAlert("Thêm thành công vào menu",7000);zm("#bookmark_btn").hide();zm("#unbookmark_btn").show();if(zmZingStore.totalBm==0){zm("#app_bmarked").show()}zmZingStore.totalBm=zmZingStore.totalBm+1;var o=zmZingStore.totalBm;if(o>0){zm("#total_bm").html("("+o+")")}var m=zm("#totalapp");if(m!=undefined){m.html(o)}window.location=window.location}})}else{zmeOpenWidget.doLogin("reload")}},resetBookmarkDefault:function(k){var i=k+"/bookmark";var j={ac:"reset"};zm.post(i,j,{dataType:"json"},function(l){if(l.error!=0){if(l.error==500){h(l.msg)}else{new zmCore.Boxy({title:"Thông báo",content:"Có lỗi xảy ra, vui lòng tải lại trang",modal:true,okButton:"Đồng ý",onOk:function(){window.location=window.location}}).show()}}else{zmZingStore.asAlert("Đã xóa menu ghi nhớ thành công",5000);window.location=window.location}})},doSearch:function(){var j=zm("#appsrch_keyword").val();if(j.length>1){if(j!="Tìm kiếm ứng dụng"){var i="/search?q="+encodeURIComponent(j);window.location=i}else{zm("#appsrch_keyword").focus()}}else{zmZingStore.asAlert("Bạn phải nhập ít nhất 2 ký tự",5000)}},enterSearch:function(i){if(i.keyCode==13&&zmZingStore.flgAutoComplete==0){zmZingStore.doSearch()}},autoCompleteSearch:function(){var j=appstoreCfg.SEARCH_URL;var i=zm("#appsrch_keyword");if(i!=undefined){i.enableAutocomplete(j,{minChars:2,width:348,left:401,top:402,scrollHeight:350,searchResponse:false,matchCase:false,method:"getjson",query:"q",autoFill:true,coverListClass:"appstsrch_autocmpl",listClass:"appddlist",followElement:zm(".searchinput")[0],activeItemClass:"selected",makeUrl:function(k){return j+"?q="+k+"&callback=?"},parseData:function(l){if(!l){return null}var k=new Array();zm.each(l,function(){if(this.title.length>0){var m=[];m[0]=this.title;m[1]=this.t;m[2]=this.linkimg;m[3]=this.appname;m[4]=this.linkapp;k.push(m)}});return k},formatItem:function(l){var k="<a target='_blank' class='mplaygamebtn' href='"+l[4]+"'>Chơi ngay</a><img src='"+l[2]+"'><p class='appddlist_text'><strong>"+l[0]+"</strong></p><p class='appsearch_cate'>"+l[1]+"</p><div class='clr'></div>";return k},onItemSelected:function(k){zmZingStore.flgAutoComplete=1;window.location.href=appstoreCfg.BASE_URL+"/detail/"+k[3]},formatInput:function(k){return k[0]}})}},slideTopBox:function(){var i=zm(".slide_img").children().length;if(i>=2){zm(".slide_img").slideshow({reverse:true,speed:300,interval:5000,circle:true,click_circle:false,pageNavi:".slider",pageNaviCurrent:"selected",pageNaviPrefix:"<li>",pageNaviSuffix:"</li>",callbacks:function(j){var l=zm(".slide_img").children()[j];var k=zm(l).attr("title");zm("#titleGame").html(k)}})}},beginSelect:function(i){zm("#bm_"+i).addClass("hightlighted")},endSelect:function(k){zm("#saveOrder").css("display","none");zm("#bm_"+k).removeClass("hightlighted");zmZingStore.afterOrder=zm("#mylistapps").getDragDropResult();for(var j=0;j<zmZingStore.preOrder.length;j++){if(zmZingStore.preOrder[j]!=zmZingStore.afterOrder[j]){zm("#saveOrder").css("display","block");break}}},saveBookmarkOrder:function(){var m=zmZingStore.listBm.split(",");var s="";var j=new Array();var r=zm("#mylistapps");var n=r.getDragDropResult();var o=zm.serialize(n);var p="";for(var q=0;q<n.length;q++){var l=n[q];if(m[l]!="undefined"&&m[l].length>0){j.push(parseInt(m[l]))}}j=zm.serialize(j);if(n.length>0){var k=s+"/bookmark";var p={ac:"reorder",order:o,appids:j};zm.post(k,p,{dataType:"json"},function(i){var t="";if(i.error!=0){t="Có lỗi xảy ra, vui lòng tải lại trang"}else{t="Đã lưu thứ tự thành công";zmZingStore.preOrder=zm("#mylistapps").getDragDropResult();zm("#saveOrder").css("display","none")}zm.Boxy.alert("<div style='text-align:center;margin-top:20px;margin-bottom:20px;font-size:12px'>"+t+"</div>","Thông báo",5000,{okButton:"Đóng",onOk:function(){if(i.error!=0){window.location=window.location}}});r.startDragDrop()})}else{h("Không có thay đổi xảy ra")}},resetOrder:function(){window.location=window.location},processScroll:function(){zm(window).scroll(function(){var j=zm("#slink").val();if(j.length>0){var k=document.body.scrollTop||document.documentElement.scrollTop;var l=zm(document.body).height();var i=zm.getViewport();if((k+i.height+10)>=l){zmZingStore.getMoreApps(j)}}})},initBoxSearch:function(){zm("#appsrch_keyword").css("font-style","italic");zm("#appsrch_keyword").click(function(){this.focus()}).focus(function(){zm("#appsrch_keyword").css("font-style","normal");if(this.value=="Tìm kiếm ứng dụng"){this.value=""}}).blur(function(){if(this.value==""){zm("#appsrch_keyword").css("font-style","italic")}});zm(".appsrch_btn").click(function(){zmZingStore.doSearch()})},initMenu:function(i){zm(".appst_total").show();zm("#search_notice").hide();zm(".appm_all a").removeClass("selected");zm(".appm_recommend a").removeClass("selected");zm(".appm_new a").removeClass("selected");zm(".appm_rank a").removeClass("selected");zm(".appm_event a").removeClass("selected");if(i.length>0){zm(i+" a").addClass("selected")}},writeLog:function(k,j,l){var m="";if(window.location.search.length>0){m=window.location.search.substring(1);if(m.length>0){m="&"+m}}if(m.length==0){if(zmZingStore.isLogin==0){m="&_src=as-login"}else{m="&_src=as"}}else{if(m.indexOf("_src=as")==-1){if(zmZingStore.isLogin==0){m="&_src=as-login"+m}else{m="&_src=as"+m}}}var i="/ajx/wlog?uid="+k+"&appname="+j+"&ac="+l+"&isLogin="+zmZingStore.isLogin+m;zm.post(i,{},{dataType:"json"},function(n){})},ratingApps:function(i,k){var j="/ajx/rt?appid="+k+"&p="+i;zmZingStore.point=i;zm.post(j,{},{dataType:"json"},function(l){if(l.error=="succ"){zm("#hstar").val(zmZingStore.point);zmZingStore.setRating();zmZingStore.asAlert("Bình chọn thành công<br/><div style='margin-left: 100px' class='vote_star vote_"+zmZingStore.point+"'></div>",5000)}else{zmZingStore.asAlert("Có lỗi xảy ra, vui lòng thử lại sau",5000)}})},initRating:function(i,j){zm("."+i).hover(function(){var l=this;var k=zm(l).attr("rel");zm("#"+j).attr("class","");zm("#"+j).addClass("vote_star").addClass("vote_"+k)}).click(function(){var m=this;var k=zm(m).attr("rel");var l=zm("#h_appid").val();zmZingStore.point=k;zmZingStore.appid=l;if(zmZingStore.isLogin>0){zmZingStore.ratingApps(k,l);return false}else{zmeOpenWidget.doLogin("voteApp");return false}return false});zm("#"+j).hover(function(){},function(){zmZingStore.setRating()})},setRating:function(){zm("#slt_rating").attr("class","");zm("#slt_rating").addClass("vote_star").addClass("vote_"+zm("#hstar").val());zm("#slt_rating_desc").attr("class","");zm("#slt_rating_desc").addClass("vote_star").addClass("vote_"+zm("#hstar").val())},hRelate:function(i){zm("#hRelate").val(i)},getMyApp:function(i){var j=zm("#myapp_"+i).html();if(j.length<=0){zm.getJSON("/ajx/myapp?type="+i+"&callback=?",{dataType:"json"},function(k){if(k.err==0){zm("#myapp_"+i).html(k.data)}})}},showEvent:function(){zm("#idEvent").addClass("active");zm("#idOpenServer").removeClass("active");zm("#idZingMonday").removeClass("active");zm("#dataEvent").show();zm("#dataOpenServer").hide();zm("#dataZingMonday").hide()},showOpenServer:function(){zm("#idOpenServer").addClass("active");zm("#idEvent").removeClass("active");zm("#idZingMonday").removeClass("active");zm("#dataOpenServer").show();zm("#dataEvent").hide();zm("#dataZingMonday").hide()},showZingMonday:function(){zm("#idOpenServer").removeClass("active");zm("#idEvent").removeClass("active");zm("#idZingMonday").addClass("active");zm("#dataOpenServer").hide();zm("#dataEvent").hide();zm("#dataZingMonday").show()},getOpenServer:function(){zm.get("/ajx/data/open-server-schedule",{dataType:"json"},function(i){if(i.err==0){zm("#hdatarank").html(i.data);zm("#content_apps").html("");zmZingStore.more=0;zm("#getmore").hide();zmZingStore.initMenu(".appm_event");zm(".appgrid_toprow").hide();try{zm("#box_suggest_home_page").hide()}catch(j){}}})},getZingMonday:function(){zm.get("/ajx/data/zing-monday",{dataType:"json"},function(i){if(i.err==0){zm("#hdatarank").html(i.data);zm("#content_apps").html("");zmZingStore.more=0;zm("#getmore").hide();zmZingStore.initMenu(".appm_event");zm(".appgrid_toprow").hide();try{zm("#box_suggest_home_page").hide()}catch(j){}}})},getListPlayer:function(){var m=zm("#listplayer").children("li").length;for(var l=0;l<m;l++){var k=zm("#listplayer").children("li")[l].id;var j=k.substr(4);zwg.addWgItem(new wgItem("pavt"+j,"ZMEA_"+j+"?id&width=50&height=50&l=2&size=50&cls=avatar&m=1"))}zwg.fillWg();if(m>11){zm(".zapplist_friend ul").slidelist({prev:".zapp_addfrbox .zapp_leftbtn",next:".zapp_addfrbox .zapp_rightbtn",number:11,duration:300})}},asAlert:function(i,j){zm.Boxy.alert("<div style='text-align:center;margin-top:20px;margin-bottom:20px;font-size:12px'>"+i+"</div>","Thông báo",10000,{okButton:"Đóng"})},showBoxComment:function(m,n){for(var k=1;k<=m;k++){zm("#boxcomment"+k).hide();zm("#btcomment"+k).removeClass("active")}if(n==1||n=="1"){var l=zm("#zmshow").html();if(l==""){var j="<div id='zme-root'></div><div id='boxcomment1' class='zme-comments' data-url='"+zm("#hLinkComment").val()+"' data-num-posts='10' data-width='739'></div>";zm("#zmshow").html(j);(function(q,i,r){var p,o=q.getElementsByTagName(i)[0];if(q.getElementById(r)){return}p=q.createElement(i);p.id=r;p.src="//static.me.zing.vn/sp/js/all-1.39.js#&appId=9a9aad0aed37e2e46e2835624eb61640&status=true&consumer=appstore&callback=playgame&precallback=pre_playgame&cbdata1=1&cbdata2=2";o.parentNode.insertBefore(p,o)}(document,"script","zingme-appscm2"))}}zm("#boxcomment"+n).show();zm("#btcomment"+n).addClass("active")}};function a(k,j){zmZingStore.rmAppId=k;var i="/bookmark";var l={ac:"remove",appid:k,token:j};zm.post(i,l,{dataType:"json"},function(m){var o=parseInt(m.error);if(o!=0){new zmCore.Boxy({title:"Thông báo",contentClass:"lbx_widsml",content:m.msg,modal:true,okButton:"Đồng ý",onOk:function(){window.location=window.location}}).show()}else{zmZingStore.asAlert("Xóa ghi nhớ thành công",5000);zm("#bookmark_btn").show();zm("#unbookmark_btn").hide();zmZingStore.totalBm=zmZingStore.totalBm-1;var n=zmZingStore.totalBm;if(n>0){zm("#total_bm").html("("+n+")");var p=zm("#bm_"+zmZingStore.rmAppId);if(p!=undefined){p.hide()}}else{window.location=window.location}}})}function h(i){zmZingStore.asAlert(i,5000)}})();function reload(){location.reload()}function loginSucc(){location.reload()}function playgame2(a,g,d,c){var b=zm("#h_appname").val();var i=0;if(d>0){i=1;zmZingStore.writeLog(d,b,i);var h=1;var f=zm("#linkGameOnline").val();if(f==undefined||f.length==0){f=zmConfig.ME_URL+"/apps/"+b;h=0}var e=window.location.search;if(e.length>0){e=e.substring(1)}if(h==0){if(e.indexOf("_src=as")==-1){if(e.length>0){if(zmZingStore.isLogin>0){f=f+"?_src=as&"+e}else{f=f+"?_src=as-login&"+e}}else{if(zmZingStore.isLogin>0){f=f+"?_src=as"}else{f=f+"?_src=as-login"}}}else{f=f+"?"+e}}else{f=f+"?_src=as"}window.location.href=f}}function playGameRelated(b,e,c,f){var a=zm("#hRelate").val();var d=0;if(c>0){d=1}zmZingStore.writeLog(c,a,d);if(c>0){window.location.href=zmConfig.ME_URL+"/apps/"+a+"?_src=as"}}function voteApp(a,c,b,d){if(b>0){zmZingStore.ratingApps(zmZingStore.point,zmZingStore.appid);setTimeout(function(){window.location.href=window.location.href},3000)}}function entergame(){bannerClick="-banner";var a=zm("#h_appname").val();var d=1;var b=zm("#linkGameOnline").val();var c=window.location.search;if(c.length>0){c=c.substring(1)}if(b==undefined||b.length==0){b=zmConfig.ME_URL+"/apps/"+a;d=0}if(d==0){if(zmZingStore.isLogin>0){if(zmConfig.viewerId>0){ac=1;zmZingStore.writeLog(zmConfig.viewerId,a,1)}if(c.indexOf("_src=as")==-1){if(c.length>0){b=b+"?_src=as-banner&"+c}else{b=b+"?_src=as-banner"}}else{b=b+"?"+c}window.location.href=b}else{if(a=="vlcmzingme"){if(c.indexOf("_src=as")==-1){if(c.length>0){b=b+"?_src=as-banner&"+c}else{b=b+"?_src=as-banner"}}else{b=b+"?"+c}if(zmZingStore.isLogin<=0){b+="&mode=guestlogin&promotion=2000"}window.location.href=b}else{zmeOpenWidget.doLogin("playgame")}}}else{var e=window.open(b,"_blank");e.focus()}}function playGameAfterLogin(b,d,c,e){if(c>0&&zmZingStore.appName.length>0){var a=zmZingStore.urlPlayGame+zmZingStore.appName;if(zmZingStore.src.length>0){a+="?_src="+zmZingStore.src}zmZingStore.writeLog(c,zmZingStore.appName,1);window.location.href=a}else{location.reload()}}function accessApp(b,d,c,e){if(c>0){var a=zmZingStore.urlPlayGameAs+zmZingStore.appName;if(zmZingStore.src.length>0){a+="?_src="+zmZingStore.src}window.location.href=a}else{zmZingStore.asAlert("Có lỗi xảy ra, vui lòng thử lại",5000)}}function loginHotWeek(){zmZingStore.isLogin=1;var a=zm("#hwAppName").val();if(a!=undefined&&a.length>0){asLog.logAccessHotWeek(a,"as-logout")}}var asLog={logAccess:function(a,f){var c="/ajx/wlog/log-access?appName="+a+"&_src="+f;var b=zmConfig.ME_URL+"/apps/"+a+"?_src="+f;var d=window.location.search;if(d.length>0){if(d.indexOf("?")!=-1){d=d.substring(1)}if(d.length>0){d=d.replace("_src","_osrc");c=c+"&"+d;b=b+"&"+d}}if(zmZingStore.isLogin<=0){b+="&mode=guestlogin&promotion=2000"}var e=window.open(b,"_blank");e.focus();zm.get(c,function(g){})},logAccessHotWeek:function(a,e){var c="/ajx/wlog/log-access?appName="+a+"&_src="+e;var b=zmZingStore.urlPlayGameAs+a+"?_src="+e;var d=window.location.search;if(d.length>0){if(d.indexOf("?")!=-1){d=d.substring(1)}if(d.length>0){d=d.replace("_src","_osrc");c=c+"&"+d;b=b+"&"+d}}if(zmZingStore.isLogin<=0){b+="&mode=guestlogin&promotion=2000"}zm.get(c,function(f){window.location.href=b})},logDownload:function(d,e,b){var a="/ajx/wlog/log-download?appId="+d+"&_src="+e;var c=window.location.search;if(c.length>0){if(c.indexOf("?")!=-1){c=c.substring(1)}if(c.length>0){c=c.replace("_src","_osrc");a=a+"&"+c}}zm.get(a,function(f){});return true},logMobileDL:function(c,a,d){var b="/ajx/wlog/log-download-mobile?appid="+c+"&appname="+a+"&pos="+d;zm.get(b,function(e){});return true},logDownloadZP:function(b,c){var a="/ajx/wlog/log-download?appId="+b+"&_src="+c;zm.get(a,function(d){})},logPlayGame:function(a,c){if(zmZingStore.isLogin>0){var b="/ajx/wlog/log-access?appName="+a+"&_src="+c;zm.get(b,function(d){});return true}else{zmZingStore.appName=a;zmZingStore.src=c;zmeOpenWidget.doLogin("playGameAfterLogin");return false}return false},accessApp:function(a,b){if(zmZingStore.isLogin>0){return true}else{zmZingStore.appName=a;zmZingStore.src=b;zmeOpenWidget.doLogin("accessApp");return false}return false}};zm.install("slidelist",{slidelist:function(c){c=zm.extend({},zm.plugins.slidelist.defSettings,c);var p=this,l=c.next,k=c.prev,b=c.number,q=c.duration||animation.settings.duration,g=null,o=c.btnActive,a=c.end,i=c.onPrevEnd?c.onPrevEnd:null,u=c.onNextEnd?c.onNextEnd:null;var t=this.children(),d=t.length,e=t.outerWidth(true),n=e*d,r=this.parent().width(),f=b*e;var v=0,s=animation.settings.interval,h="left",m="sin";this.parent().css("position","relative");this.css("position","absolute");this.css("top",0);this.css("left",0);this.css("width",n+"px");if(l!=""){zm(l).click(function(){if(d<=b){return false}clearTimeout(g);g=setTimeout(function(){zm(k).addClass(o);j("next")},q);return false})}if(k!=""){zm(k).click(function(){if(d<=b){return false}clearTimeout(g);g=setTimeout(function(){zm(l).addClass(o);j("prev")},q);return false})}function j(A,x){var y=A=="prev"?false:true,C=zmCore.intval(p.css("left")),w=y?(C-f):(C+f);if(A=="prev"&&(C+f)>=0){w=0;zm(k).removeClass(o);zm.isFunction(i)&&i(zm(k))}else{if(A=="next"&&(Math.abs(w)>=(n-r-a))){w=r-n+a;zm(l).removeClass(o);zm.isFunction(u)&&u(zm(l))}}if(!x){var z=0,B=setInterval(function(){z+=s;v=animation.step[m](C,w,q,z);var D=false;if(v==-1){v=w;D=true}p.css(h,v+"px");if(D){clearInterval(B)}},s)}}}},function(){zm.plugins.slidelist.defSettings={prev:"",next:"",number:5,duration:150,end:0,btnActive:""};animation={settings:{interval:10,duration:250},css:["position","top","left","right","bottom","float","display","margin","margin-top","margin-bottom","margin-left","margin-right","background"],step:{sin:function(e,a,d,c){if(c>=d){return -1}var b=(c/d)*(Math.PI/2);return Math.floor(e+(a-e)*Math.sin(b))},linear:function(d,a,c,b){if(b>=c){return -1}return Math.floor(d+(a-d)*(b/c))},log:function(e,a,d,c){if(c>=d){return -1}var b=(c/d)*Math.E+1;return Math.floor(e+(a-e)*Math.log(b))}}}});var zmAppstoreView=(function(){var c=100,a=708,b=false,e=false;function d(l){var f=zm.getViewport();if(f.width<=980){return}var j=zm(".appst_sidepanel");if(f.height>a&&(!e||l!==false)){var g=j.children(),k=j.outerHeight(),i=j.top(),h=zm(".zmh").outerHeight()+zm(".zas").outerHeight();if(b===false){b=i;j.css("width","225px")}e=h;g.each(function(){if(zm(this).is(":hidden")){return}e=h-zm(this).top()+i;if(f.height-k-e>=c){return false}})}if(f.height>a&&f.offsetY>=b-e){j.css({top:e+"px",position:"fixed",zIndex:2})}else{j.css({top:"",position:""})}}return{init:function(){zm(window).scroll(function(){setTimeout(d(false),3000)}).resize(function(){d()});d(false);setTimeout(d,3000)},anchorRightbox:d}})();
